<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Isabel">
<meta name="dcterms.date" content="2024-02-25">

<title>my_blog - Questions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">my_blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">À Propos</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Questions</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">TD</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Isabel </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 25, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#création-du-package" id="toc-création-du-package" class="nav-link active" data-scroll-target="#création-du-package">Création du package</a></li>
  <li><a href="#excercies" id="toc-excercies" class="nav-link" data-scroll-target="#excercies">Excercies</a>
  <ul class="collapse">
  <li><a href="#créer-son-premier-package-olympicsweather" id="toc-créer-son-premier-package-olympicsweather" class="nav-link" data-scroll-target="#créer-son-premier-package-olympicsweather">1. Créer son premier package: olympicsWeather</a></li>
  <li><a href="#question-pourquoi-nest-il-pas-nécessaire-dinstaller-explicitement-usethis" id="toc-question-pourquoi-nest-il-pas-nécessaire-dinstaller-explicitement-usethis" class="nav-link" data-scroll-target="#question-pourquoi-nest-il-pas-nécessaire-dinstaller-explicitement-usethis">2. Question : Pourquoi n’est-il pas nécessaire d’installer explicitement usethis ?</a></li>
  <li><a href="#création-dun-nouveau-script-appelé-get_weather_forecast-avec-use_r-de-la-librairie-usethis-qui-permet-dajouter-facilement-un-script-r-au-projet-de-package" id="toc-création-dun-nouveau-script-appelé-get_weather_forecast-avec-use_r-de-la-librairie-usethis-qui-permet-dajouter-facilement-un-script-r-au-projet-de-package" class="nav-link" data-scroll-target="#création-dun-nouveau-script-appelé-get_weather_forecast-avec-use_r-de-la-librairie-usethis-qui-permet-dajouter-facilement-un-script-r-au-projet-de-package">3. Création d’un nouveau script appelé ‘get_weather_forecast’ avec use_r de la librairie usethis qui permet d’ajouter facilement un script R au projet de package:</a></li>
  <li><a href="#décrivez-le-résultat.-quavons-nous-obtenu-suite-à-notre-requête-quels-paramètres-souhaitons-nous-changer-si-nous-voulons-pouvoir-récupérer-les-prévisions-météo-pour-tous-les-sites-des-jos" id="toc-décrivez-le-résultat.-quavons-nous-obtenu-suite-à-notre-requête-quels-paramètres-souhaitons-nous-changer-si-nous-voulons-pouvoir-récupérer-les-prévisions-météo-pour-tous-les-sites-des-jos" class="nav-link" data-scroll-target="#décrivez-le-résultat.-quavons-nous-obtenu-suite-à-notre-requête-quels-paramètres-souhaitons-nous-changer-si-nous-voulons-pouvoir-récupérer-les-prévisions-météo-pour-tous-les-sites-des-jos">5. Décrivez le résultat. Qu’avons nous obtenu suite à notre requête ? Quels paramètres souhaitons nous changer si nous voulons pouvoir récupérer les prévisions météo pour tous les sites des JOs</a></li>
  <li><a href="#question-7-et-8" id="toc-question-7-et-8" class="nav-link" data-scroll-target="#question-7-et-8">Question 7 et 8</a>
  <ul class="collapse">
  <li><a href="#fonction-get_forecast" id="toc-fonction-get_forecast" class="nav-link" data-scroll-target="#fonction-get_forecast">Fonction get_forecast</a></li>
  <li><a href="#test" id="toc-test" class="nav-link" data-scroll-target="#test">Test</a></li>
  <li><a href="#graphique" id="toc-graphique" class="nav-link" data-scroll-target="#graphique">Graphique</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">______________________________________________</a></li>
  <li><a href="#configurer-son-compte-github" id="toc-configurer-son-compte-github" class="nav-link" data-scroll-target="#configurer-son-compte-github">Configurer son compte github</a>
  <ul class="collapse">
  <li><a href="#en-utilisant-le-client-graphique-de-rstudio-faites-un-git-push.-que-sest-il-passé-cette-fois-ci-sur-le-dépôt-github" id="toc-en-utilisant-le-client-graphique-de-rstudio-faites-un-git-push.-que-sest-il-passé-cette-fois-ci-sur-le-dépôt-github" class="nav-link" data-scroll-target="#en-utilisant-le-client-graphique-de-rstudio-faites-un-git-push.-que-sest-il-passé-cette-fois-ci-sur-le-dépôt-github">En utilisant le client graphique de RStudio, faites un git push. Que s’est il passé cette fois-ci sur le dépôt github ?</a></li>
  </ul></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">______________________________________________</a></li>
  <li><a href="#projet-questions" id="toc-projet-questions" class="nav-link" data-scroll-target="#projet-questions">Projet questions</a>
  <ul class="collapse">
  <li><a href="#que-voyez-vous-désormais-sous-github" id="toc-que-voyez-vous-désormais-sous-github" class="nav-link" data-scroll-target="#que-voyez-vous-désormais-sous-github">Que voyez-vous désormais sous github ?</a></li>
  <li><a href="#que-se-passe-til-quand-vous-exécutez-la-commande" id="toc-que-se-passe-til-quand-vous-exécutez-la-commande" class="nav-link" data-scroll-target="#que-se-passe-til-quand-vous-exécutez-la-commande">Que se passe t’il quand vous exécutez la commande</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="création-du-package" class="level1">
<h1>Création du package</h1>
<p>Les informations relatives à l’utilisation du package olympicsWeather sont disponibles dans le post intitulé “post-with-code”. Dans cette section, nous aborderons exclusivement les questions relatives à la création et à l’installation du package.</p>
</section>
<section id="excercies" class="level1">
<h1>Excercies</h1>
<section id="créer-son-premier-package-olympicsweather" class="level2">
<h2 class="anchored" data-anchor-id="créer-son-premier-package-olympicsweather">1. Créer son premier package: olympicsWeather</h2>
<p>Pour débuter la création du package olympicsWeather, il est nécessaire d’installer certains packages utiles au développement de packages R. Les packages devtools, httr2 et jsonlite sont essentiels pour la manipulation de données en ligne et la structuration du package.</p>
<p>Création d’un nouveau projet de package</p>
<p>Après l’installation de ces packages, la prochaine étape consiste à créer un nouveau projet de package. La fonction create_package() est utilisé pour initialiser la structure de base du package. Vous pouvez spécifier le chemin où le package doit être créé, comme dans l’exemple ci-dessous :</p>
<p>create_package(path = “/Users/Isabel/Desktop/Cours/Ravancé/olympicsWeather”)</p>
</section>
<section id="question-pourquoi-nest-il-pas-nécessaire-dinstaller-explicitement-usethis" class="level2">
<h2 class="anchored" data-anchor-id="question-pourquoi-nest-il-pas-nécessaire-dinstaller-explicitement-usethis">2. Question : Pourquoi n’est-il pas nécessaire d’installer explicitement usethis ?</h2>
<p>Il n’est pas nécessaire d’installer explicitement usethis car devtools est déjà installé.Devtools dépend de usethis. Il utilise plusieurs fonctions de usethis pour faciliterle développement de packages en R, usethis est donc automatiquement installé comme une dépendance.”</p>
</section>
<section id="création-dun-nouveau-script-appelé-get_weather_forecast-avec-use_r-de-la-librairie-usethis-qui-permet-dajouter-facilement-un-script-r-au-projet-de-package" class="level2">
<h2 class="anchored" data-anchor-id="création-dun-nouveau-script-appelé-get_weather_forecast-avec-use_r-de-la-librairie-usethis-qui-permet-dajouter-facilement-un-script-r-au-projet-de-package">3. Création d’un nouveau script appelé ‘get_weather_forecast’ avec use_r de la librairie usethis qui permet d’ajouter facilement un script R au projet de package:</h2>
<p>usethis::use_r(“get_weather_forecast”)</p>
<p>librairies necessaires: library(httr2) et (tibble)</p>
</section>
<section id="décrivez-le-résultat.-quavons-nous-obtenu-suite-à-notre-requête-quels-paramètres-souhaitons-nous-changer-si-nous-voulons-pouvoir-récupérer-les-prévisions-météo-pour-tous-les-sites-des-jos" class="level2">
<h2 class="anchored" data-anchor-id="décrivez-le-résultat.-quavons-nous-obtenu-suite-à-notre-requête-quels-paramètres-souhaitons-nous-changer-si-nous-voulons-pouvoir-récupérer-les-prévisions-météo-pour-tous-les-sites-des-jos">5. Décrivez le résultat. Qu’avons nous obtenu suite à notre requête ? Quels paramètres souhaitons nous changer si nous voulons pouvoir récupérer les prévisions météo pour tous les sites des JOs</h2>
<p>test &lt;- perform_request(latitude =48.85, longitude = 2.35 )</p>
<p>Le (tibble) contient des informations générales sur la requête météorologique et le lieu des prévisions, incluant la latitude, la longitude, le temps de génération, le décalage UTC, le fuseau horaire, entre autres. Il est composé de 5 lignes et 9 colonnes.</p>
<p>La colonne <code>hourly</code> est elle-même une liste qui englobe des données telles que l’heure (<code>time</code>), la température à 2 mètres (<code>temperature_2m</code>), la température ressentie (<code>apparent_temperature</code>), la probabilité de précipitations (<code>precipitation_probability</code>), et les précipitations (<code>precipitation</code>). Ces éléments peuvent aussi être des listes. Par exemple, pour extraire des informations structurées, on peut utiliser :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(test<span class="sc">$</span>hourly[<span class="dv">2</span>][[<span class="dv">1</span>]], <span class="dv">1</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">2</span>][[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Cela permet de récupérer le deuxième élément de la colonne <code>hourly</code>, qui est encore une liste. Si nous souhaitons obtenir des prévisions pour tous les sites des Jeux Olympiques, des ajustements sont nécessaires concernant les coordonnées de longitude et de latitude. De plus, il est impératif de récupérer les données météorologiques dans une structure qui facilitera la manipulation ultérieure.</p>
</section>
<section id="question-7-et-8" class="level2">
<h2 class="anchored" data-anchor-id="question-7-et-8">Question 7 et 8</h2>
<p>Premier option : accès indexé aux différents types de données météorologiques</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>unnest_data <span class="ot">&lt;-</span> <span class="cf">function</span>(test){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">date_heure =</span> <span class="fu">as.POSIXct</span>(<span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">1</span>][[<span class="dv">1</span>]]), <span class="at">format =</span> <span class="st">'%Y-%m-%dT%H:%M'</span>, <span class="at">tz =</span> <span class="st">'UTC'</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">temperature_celsius =</span> <span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">2</span>][[<span class="dv">1</span>]]),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">temperature_ressenti =</span> <span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">3</span>][[<span class="dv">1</span>]]),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">porcentage =</span> <span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">4</span>][[<span class="dv">1</span>]]),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">precipitation =</span> <span class="fu">unlist</span>(test<span class="sc">$</span>hourly[<span class="dv">5</span>][[<span class="dv">1</span>]]))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">perform_request</span>(<span class="at">lat =</span> <span class="fl">47.21725</span>, <span class="at">long =</span> <span class="sc">-</span><span class="fl">1.55336</span>) <span class="sc">|&gt;</span> <span class="fu">unnest_data</span>() <span class="ot">-&gt;</span> y</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deuxime option :</p>
<p>Les données peuvent être directement extraites par leur nom :)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>unnest_data <span class="ot">&lt;-</span> <span class="cf">function</span>(meteo_data) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extraction des données horaires et conversion en tibble</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  meteo_tibble <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">date_heure =</span> <span class="fu">as.POSIXct</span>(<span class="fu">unlist</span>(meteo_data<span class="sc">$</span>hourly<span class="sc">$</span>time), <span class="at">format =</span> <span class="st">"%Y-%m-%dT%H:%M"</span>, <span class="at">tz =</span> <span class="st">"UTC"</span>),  <span class="co">#POSIXct avec le fuseau horaire UTC pour assurer que les heures sont correctement interprétées</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">temperature_celsius =</span> <span class="fu">unlist</span>(meteo_data<span class="sc">$</span>hourly<span class="sc">$</span>temperature_2m),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">temperature_ressentie =</span> <span class="fu">unlist</span>(meteo_data<span class="sc">$</span>hourly<span class="sc">$</span>apparent_temperature),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">precipitation_proba =</span> <span class="fu">unlist</span>(meteo_data<span class="sc">$</span>hourly<span class="sc">$</span>precipitation_probability),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">precipitation_mm =</span> <span class="fu">unlist</span>(meteo_data<span class="sc">$</span>hourly<span class="sc">$</span>precipitation)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(meteo_tibble)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>L’utilisation de unlist est nécessaire pour aplatir ces listes en vecteurs, rendant possible leur manipulation et conversion.Exemple avec la conversion directe en POSIXct avec as.POSIXct échoue, car as.POSIXct attend un vecteur et non uneliste</p>
<section id="fonction-get_forecast" class="level3">
<h3 class="anchored" data-anchor-id="fonction-get_forecast">Fonction get_forecast</h3>
<p>Le script concernant le package olympicsWeather, est diponible sur mon git <a href="https://github.com/isabel6198/olympicsWeather" class="uri">https://github.com/isabel6198/olympicsWeather</a></p>
<p>Voici quelques explications :</p>
<p>Nous commençons par convertir une adresse en coordonnées GPS grâce à la fonction address_to_gps. Cette étape utilise le package tidygeocoder pour obtenir latitude et longitude d’une adresse textuelle en interrogeant des services de géocodage comme OpenStreetMap. Le résultat est un vecteur numérique avec la latitude et la longitude.</p>
<p>Ensuite, avec get_gps_coordinate, on transforme une adresse en coordonnées GPS, agissant comme une interface utilisateur pour address_to_gps et rendant le processus plus accessible.</p>
<p>La troisième étape est la fonction get_forecast, qui permet récupérer des prévisions météorologiques. Cette fonction générique gère différents types d’entrées, que ce soit une adresse ou des coordonnées GPS, en utilisant UseMethod pour orienter vers la méthode appropriée.</p>
<p>Pour les coordonnées GPS, get_forecast.numeric prend le relai. Elle assure que l’entrée est un vecteur numérique de deux éléments, effectue une requête API météo avec ces coordonnées et structure la réponse obtenue en un tibble.</p>
<p>Enfin, pour une adresse, get_forecast.character permet d’obtenir les prévisions météorologiques en partant d’un texte. Elle vérifie d’abord que l’entrée est bien une chaîne de caractères, la convertit en coordonnées GPS, puis fait appel à get_forecast.numeric pour récupérer les prévisions. Le résultat est un tibble contenant les informations météorologiques pour l’adresse spécifiée.</p>
<p>La documentation a été faite en utilisant les balises Roxygen et la description : <img src="description.png" class="img-fluid"></p>
</section>
<section id="test" class="level3">
<h3 class="anchored" data-anchor-id="test">Test</h3>
<p>Dans la partie test un jeu de données est crée pour tester la fonction, avec la meme structure que celle recu par perfom_request.</p>
</section>
<section id="graphique" class="level3">
<h3 class="anchored" data-anchor-id="graphique">Graphique</h3>
<p>Pour fournir une sortie visuelle aux utilisateurs, j’ai développé une fonction dans le package qui génère un graphique interactif mettant en évidence les températures et les températures ressenties au fil du temps. L’utilisation de ggplot2 combinée à plotly permet d’obtenir des visualisations à la fois esthétiques et fonctionnelles, offrant aux utilisateurs la possibilité d’explorer les données de manière dynamique.</p>
<p>La fonction visualiser_temperature prend comme paremetre <strong>weather_forecast</strong> : Un Tibble ou un dataframe contenant les prévisions météorologiques à représenter graphiquement. Les données doivent inclure des colonnes spécifiques : <strong><code>date_heure</code></strong> pour les dates et heures des prévisions, <strong><code>temperature_celsius</code></strong> pour les températures mesurées en degrés Celsius, et <strong><code>temperature_ressentie</code></strong> pour les températures ressenties, également en degrés Celsius.</p>
</section>
</section>
</section>
<section id="section" class="level1">
<h1>______________________________________________</h1>
</section>
<section id="configurer-son-compte-github" class="level1">
<h1>Configurer son compte github</h1>
<p>Question Sous RStudio, créez un nouveau projet. Choisissez l’option nouveau projet depuis un dépôt git. Quels fichiers sont présents à la racine du nouveau projet ? Décrivez</p>
<p><img src="git_1.png" class="img-fluid"></p>
<p>Comme nous pouvons observer ci-dessus, en choisissant d’utiliser Git et renv dans notre projet R, les fichiers et dossiers clés incluent :</p>
<ul>
<li><p><strong><code>.gitignore</code></strong> qui spécifie les fichiers et dossiers à ignorer par Git ;</p></li>
<li><p><strong><code>.Rhistory</code></strong> qui garde une trace des commandes R précédemment exécutées ;</p></li>
<li><p><strong><code>.Rprofile</code></strong> qui contient des scripts de démarrage exécutés à chaque lancement de session R ;</p></li>
<li><p><strong><code>README.md</code></strong> qui est souvent utilisé pour décrire le projet, comment l’installer ou l’utiliser ;</p></li>
<li><p><strong><code>renv</code></strong> qui est un dossier contenant les configurations de l’environnement de projet ;</p></li>
<li><p><strong><code>renv.lock</code></strong> qui est un fichier de verrouillage listant les dépendances exactes du projet pour garantir la reproductibilité.</p></li>
</ul>
<section id="en-utilisant-le-client-graphique-de-rstudio-faites-un-git-push.-que-sest-il-passé-cette-fois-ci-sur-le-dépôt-github" class="level3">
<h3 class="anchored" data-anchor-id="en-utilisant-le-client-graphique-de-rstudio-faites-un-git-push.-que-sest-il-passé-cette-fois-ci-sur-le-dépôt-github">En utilisant le client graphique de RStudio, faites un git push. Que s’est il passé cette fois-ci sur le dépôt github ?</h3>
<p>En utilisant l’éditeur visuel de Git sous RStudio pour faire un commit, puis en poussant (push) les changements sur GitHub, ces modifications seront répercutées sur le dépôt distant sur GitHub. Après avoir fait un push du deuxième commit avec le message “mon deuxième commit”, le fichier README.md sur le dépôt GitHub sera mis à jour avec le contenu modifié que que j’ai commité localement.</p>
</section>
</section>
<section id="section-1" class="level1">
<h1>______________________________________________</h1>
</section>
<section id="projet-questions" class="level1">
<h1>Projet questions</h1>
<section id="que-voyez-vous-désormais-sous-github" class="level3">
<h3 class="anchored" data-anchor-id="que-voyez-vous-désormais-sous-github">Que voyez-vous désormais sous github ?</h3>
<p>Après avoir fait un commit de l’ensemble des fichiers de mon projet my_blog sous RStudio, puis un push vers le dépôt GitHub, je vois tous les fichiers du projet local maintenant sur le dépôt distant . Cela inclut les documents index.qmd, about.qmd, styles.css, _site, etc. ainsi que le post welcome/index.qmd et tout autre fichier ou configuration faisant partie du projet.</p>
</section>
<section id="que-se-passe-til-quand-vous-exécutez-la-commande" class="level3">
<h3 class="anchored" data-anchor-id="que-se-passe-til-quand-vous-exécutez-la-commande">Que se passe t’il quand vous exécutez la commande</h3>
<p>remotes::install_github(“&lt;votre username&gt;/olympicsWeather”) (remplacez &lt;votre username&gt; par votre username github) ?</p>
<p>La fonction install_github() du package remotes va :</p>
<ul>
<li><p>Se connecter à l’API GitHub pour trouver le dépôt nommé olympicsWeather appartenant à isabel6198/olympicsWeather</p></li>
<li><p>Télécharger le package depuis ce dépôt GitHub.</p></li>
<li><p>Installer le package mon environnement R local depuis la source téléchargée.</p></li>
</ul>
<p><strong>remotes::install_github(“isabel6198/olympicsWeather”),</strong> contient mon package en mode public, donc il est chargé.</p>
<p><strong>Posts de blog</strong></p>
<ul>
<li><p>Après avoir exécuté renv::snapshot(), le package olympicsWeather est correctement répertorié dans mon fichier renv.lock situé à la racine de mon projet de blog.</p></li>
<li><p>Le fichier .gitignore a été complété avec les fichiers qui ne doivent pas être versionnés.</p></li>
<li><p>Suite au commit, le dossier _site apparaît comme prévu. Cependant, j’ai rencontré un problème : pour publier ma page, GitHub ne propose de pointer que sur les dossiers racine (root) ou sur _docs et non _site, tel qu’indiqué dans le tutoriel du projet. Pour contourner ce problème, un dossier _docs a été créé et utilisé pour la publication de la page.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/isabel6198\.github\.io\/my_blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>